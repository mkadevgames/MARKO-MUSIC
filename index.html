<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>No Olho do Furacão — Demo</title>
<style>
  :root{
    --bg:#06060a;
    --accent:#7dd3fc;
    --danger:#ff6b6b;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#001 0%, #06060a 60%);font-family:Inter,system-ui,Segoe UI,Roboto,Arial;color:#fff;overflow:hidden}
  #app {position:relative;height:100vh;width:100vw;display:flex;align-items:center;justify-content:center}
  canvas{position:absolute;inset:0;display:block}
  .center-ui{z-index:20;display:flex;flex-direction:column;align-items:center;gap:18px;text-align:center}
  .big-btn{
    background:linear-gradient(90deg,var(--accent),#60a5fa);
    border:0;padding:28px 44px;border-radius:18px;font-size:clamp(22px,6vw,48px);
    font-weight:800;color:#021022;cursor:pointer;box-shadow:0 10px 30px rgba(2,16,34,0.6);text-transform:uppercase;letter-spacing:1px;
    transition:transform .12s ease,filter .12s;
  }
  .big-btn:active{transform:scale(.98)}
  .small{
    background:transparent;border:1px solid rgba(255,255,255,0.08);padding:8px 12px;border-radius:10px;color:rgba(255,255,255,0.9);font-size:14px;cursor:pointer;
  }
  .credits{position:fixed;left:12px;bottom:12px;color:rgba(255,255,255,.45);font-size:13px;z-index:30}
  .warning{color:var(--danger);font-weight:700}
  /* fullscreen tornado mode */
  .tall{transform:scale(1.06)}
</style>
</head>
<body>
<div id="app">
  <canvas id="c"></canvas>

  <div class="center-ui">
    <button id="openBtn" class="big-btn">ABRIR O FURACÃO</button>
    <div style="display:flex;gap:10px;">
      <button id="massiveBtn" class="small">Fazer Gigante</button>
      <button id="stopBtn" class="small">Parar</button>
    </div>
    <div style="font-size:14px;color:rgba(255,255,255,.8);margin-top:6px">Animação segura — sem downloads suspeitos.</div>
  </div>

  <div class="credits">Criado: demo visual do "furacão" — sem propagação de arquivos. Se quiser link de download, valide o arquivo primeiro.</div>
</div>

<script>
/* Demo de furacão visual em canvas.
   - "ABRIR O FURACÃO": inicia animação
   - "Fazer Gigante": aumenta partículas e intensidade
   - "Parar": para a animação
*/
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d', { alpha: false });
let W = canvas.width = innerWidth;
let H = canvas.height = innerHeight;
const DPR = Math.max(1, devicePixelRatio || 1);
canvas.width = W * DPR;
canvas.height = H * DPR;
canvas.style.width = W + 'px';
canvas.style.height = H + 'px';
ctx.scale(DPR, DPR);

window.addEventListener('resize', ()=> {
  W = canvas.width = innerWidth;
  H = canvas.height = innerHeight;
  canvas.width = W * DPR;
  canvas.height = H * DPR;
  canvas.style.width = W + 'px';
  canvas.style.height = H + 'px';
  ctx.scale(DPR, DPR);
});

let particles = [];
let animationId = null;
let running = false;
let intensity = 1; // 1 normal, >1 giant
const center = ()=>({ x: W/2, y: H/2 });

class Particle{
  constructor(){
    const c = center();
    // spawn in a ring around center
    this.angle = Math.random() * Math.PI * 2;
    this.radius = (Math.max(W,H) * 0.05) + Math.random() * (Math.max(W,H) * 0.6);
    this.size = 1 + Math.random()*3;
    this.speed = (0.0006 + Math.random()*0.0012) * (0.6 + Math.random());
    this.wobble = Math.random()*0.02;
    this.color = this.pickColor();
    this.alpha = 0.6 + Math.random()*0.4;
  }
  pickColor(){
    // bluish -> light gray -> pale cyan streak
    const r = Math.floor(15 + Math.random()*40);
    const g = Math.floor(30 + Math.random()*120);
    const b = Math.floor(90 + Math.random()*200);
    return `rgba(${r},${g},${b},${this.alpha})`;
  }
  update(dt){
    // spiral inward while rotating
    this.angle += dt * this.speed * (0.3 + intensity*0.8);
    this.radius -= dt * 0.06 * (0.6 + intensity*1.2);
    this.radius += Math.sin(Date.now() * this.wobble + this.angle) * 0.6;
    if(this.radius < 6) {
      // respawn far away
      this.angle = Math.random() * Math.PI * 2;
      this.radius = (Math.max(W,H) * 0.08) + Math.random() * (Math.max(W,H) * 0.7) * (1+intensity*0.5);
      this.size = 1 + Math.random()*3 * (1+intensity*0.5);
      this.alpha = 0.5 + Math.random()*0.5;
      this.color = this.pickColor();
    }
  }
  draw(){
    const c = center();
    const x = c.x + Math.cos(this.angle) * this.radius;
    const y = c.y + Math.sin(this.angle) * this.radius;
    ctx.beginPath();
    // stretched particle for motion blur effect
    const len = Math.min(40, 6 + this.radius * 0.015 * (1+intensity));
    ctx.ellipse(x, y, this.size*(1+intensity*0.6), len*(0.6+intensity*0.5), this.angle, 0, Math.PI*2);
    ctx.fillStyle = this.color;
    ctx.globalCompositeOperation = 'lighter';
    ctx.fill();
    ctx.globalCompositeOperation = 'source-over';
  }
}

function spawn(n){
  for(let i=0;i<n;i++) particles.push(new Particle());
}
function clearParticles(){
  particles = [];
}

let last = performance.now();
function loop(now){
  const dt = (now - last) / 16.666; // ~60fps normalization
  last = now;

  // background gradient faint motion
  const g = ctx.createLinearGradient(0,0,0,H);
  g.addColorStop(0, `rgba(2,6,16,${0.95})`);
  g.addColorStop(1, `rgba(6,8,12,${0.95})`);
  ctx.fillStyle = g;
  ctx.fillRect(0,0,W,H);

  // vignette
  const grd = ctx.createRadialGradient(W/2, H/2, Math.min(W,H)*0.05, W/2, H/2, Math.max(W,H)*0.9);
  grd.addColorStop(0, 'rgba(0,0,0,0)');
  grd.addColorStop(1, 'rgba(0,0,0,0.45)');
  ctx.fillStyle = grd;
  ctx.fillRect(0,0,W,H);

  // draw eye glow
  const eyeRadius = Math.max(30, 90 - intensity*10);
  ctx.beginPath();
  ctx.arc(W/2, H/2, eyeRadius*(1+Math.sin(now*0.002)*0.04), 0, Math.PI*2);
  ctx.fillStyle = `rgba(8,12,30,${0.55})`;
  ctx.fill();

  // spin & draw particles
  for(let p of particles){
    p.update(dt);
    p.draw();
  }

  // shock lines to accentuate rotation
  ctx.save();
  ctx.translate(W/2, H/2);
  ctx.rotate(now*0.0002*(1+intensity*0.8));
  for(let i=0;i<6;i++){
    ctx.rotate(Math.PI*2/6);
    ctx.beginPath();
    ctx.moveTo(0, -eyeRadius*0.8);
    ctx.lineTo(0, -Math.max(W,H)*0.6 * (0.6+intensity*0.2));
    ctx.strokeStyle = `rgba(120,160,255,${0.03 + intensity*0.03})`;
    ctx.lineWidth = 2 + intensity*1.6;
    ctx.stroke();
  }
  ctx.restore();

  // subtle overlay of dust
  ctx.globalCompositeOperation = 'overlay';
  ctx.fillStyle = `rgba(6,12,20,${0.03 + intensity*0.02})`;
  ctx.fillRect(0,0,W,H);
  ctx.globalCompositeOperation = 'source-over';

  if(running) animationId = requestAnimationFrame(loop);
}

document.getElementById('openBtn').addEventListener('click', ()=>{
  if(running) return;
  running = true;
  intensity = 1;
  clearParticles();
  spawn(700); // default
  last = performance.now();
  animationId = requestAnimationFrame(loop);
  // small pulse on button
  const b = document.getElementById('openBtn');
  b.animate([{transform:'scale(1)'},{transform:'scale(1.04)'},{transform:'scale(1)'}],{duration:360,iterations:1,easing:'ease-out'});
});

document.getElementById('massiveBtn').addEventListener('click', ()=>{
  if(!running){
    // start then make giant
    running = true;
    last = performance.now();
    intensity = 2.5;
    clearParticles();
    spawn(2400);
    animationId = requestAnimationFrame(loop);
  } else {
    // amplify existing
    intensity = 3.5;
    spawn(3200);
    // add visual pulse
    document.getElementById('app').classList.add('tall');
    setTimeout(()=>document.getElementById('app').classList.remove('tall'), 900);
  }
});

document.getElementById('stopBtn').addEventListener('click', ()=>{
  running = false;
  if(animationId) cancelAnimationFrame(animationId);
  animationId = null;
  clearParticles();
  // clear canvas
  ctx.fillStyle = '#000';
  ctx.fillRect(0,0,W,H);
});
</script>
</body>
</html>
